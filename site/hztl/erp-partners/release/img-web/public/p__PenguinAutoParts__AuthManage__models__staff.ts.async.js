(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{liok:function(e,a,t){"use strict";t.r(a);t("miYZ");var r=t("tsqr"),n=t("d6i3"),s=t.n(n),u=t("p0pE"),i=t.n(u),c=t("QIwG"),l=t("k/Of"),p={list:[],selectedRowKeys:[],search:{name:"",code:"",department:"",bindStatus:0},paginationData:{current:1,pageSize:l["defaultPageSize"]},totalSize:0,checkAll:!1,authCodeVisible:!1,authRelieveVisible:!1,authCodeList:[],staffAuthParams:{}},o={namespace:"staff",state:i()({},p),effects:{fetchData(e,a){return s.a.mark(function e(){var t,r,n,u,l;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.call,r=a.put,n=a.select,e.next=3,r({type:"saveCheckAll",payload:!1});case 3:return e.next=5,n(e=>{return i()({},e.staff.search,{page:e.staff.paginationData.current,pageSize:e.staff.paginationData.pageSize})});case 5:return u=e.sent,e.prev=6,e.next=9,t(c["i"],u);case 9:return l=e.sent,e.next=12,r({type:"saveData",payload:l});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e["catch"](6),e.next=18,r({type:"clearData"});case 18:case"end":return e.stop()}},e,null,[[6,14]])})()},searchChange(e,a){return s.a.mark(function t(){var r,n;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,n=a.put,t.next=4,n({type:"saveSearch",payload:r});case 4:return t.next=6,n({type:"fetchData",payload:r});case 6:case"end":return t.stop()}},t)})()},paginationDataChange(e,a){return s.a.mark(function t(){var r,n;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,n=a.put,t.next=4,n({type:"savePaginationData",payload:r});case 4:return t.next=6,n({type:"fetchData",payload:r});case 6:case"end":return t.stop()}},t)})()},fetchAuthCodeList(e,a){return s.a.mark(function t(){var r,n,u,i;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,n=a.call,u=a.put,t.next=4,n(c["c"],r)||[];case 4:return i=t.sent,t.next=7,u({type:"saveAuthCodeList",payload:i});case 7:return t.next=9,u({type:"saveAuthCodeVisible",payload:!0});case 9:case"end":return t.stop()}},t)})()},authRelieveChange(e,a){return s.a.mark(function t(){var r,n;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.payload,n=a.put,t.next=4,n({type:"saveStaffAuthParams",payload:r});case 4:return t.next=6,n({type:"saveAuthRelieveVisible",payload:!0});case 6:case"end":return t.stop()}},t)})()},confirmAuthRelieve(e,a){return s.a.mark(function t(){var n,u,l,p;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.payload,n=a.select,u=a.call,l=a.put,t.next=4,n(e=>{return i()({},e.staff.staffAuthParams)});case 4:return p=t.sent,t.next=7,u(c["k"],p);case 7:return r["a"].success("\u89e3\u9664\u6388\u6743\u64cd\u4f5c\u6210\u529f\uff01"),t.next=10,l({type:"fetchData"});case 10:return t.next=12,l({type:"saveAuthRelieveVisible",payload:!1});case 12:case"end":return t.stop()}},t)})()}},reducers:{clearData(e){var a;return i()({},p,e,{list:[],selectedRowKeys:[],paginationData:{current:1,pageSize:(null===e||void 0===e?void 0:null===(a=e.paginationData)||void 0===a?void 0:a.pageSize)||l["defaultPageSize"]},totalSize:0})},saveData(e,a){var t=a.payload;return i()({},p,e,{list:t?t.rows:[],selectedRowKeys:[],totalSize:t?t.totalSize:0})},saveSelectedRowKeys(e,a){var t=a.payload;return i()({},p,e,{selectedRowKeys:t})},saveSearch(e,a){var t=a.payload;return i()({},p,e,{search:t})},savePaginationData(e,a){var t=a.payload;return i()({},p,e,{paginationData:t})},saveCheckAll(e,a){var t=a.payload;return i()({},p,e,{checkAll:t})},saveStaffAuthParams(e,a){var t=a.payload;return i()({},p,e,{staffAuthParams:i()({},t)})},saveAuthCodeList(e,a){var t=a.payload;return i()({},p,e,{authCodeList:t})},saveAuthCodeVisible(e,a){var t=a.payload;return i()({},p,e,{authCodeVisible:t})},saveAuthRelieveVisible(e,a){var t=a.payload;return i()({},p,e,{authRelieveVisible:t})}}};a["default"]=o}}]);