(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ec53688"],{"178f":function(e,t,a){"use strict";a("e5d6")},3279:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_search "},[a("span",[e._v("关键字：")]),a("el-input",{staticStyle:{width:"50%","margin-right":"10px"},attrs:{placeholder:e.placeholder,size:"small",clearable:""},model:{value:e.keyWords,callback:function(t){e.keyWords=t},expression:"keyWords"}}),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.searchFn}},[e._v("查询")]),a("el-button",{attrs:{size:"small"},on:{click:e.resetFn}},[e._v("重置")]),a("el-button",{attrs:{size:"small"},on:{click:e.moreSeacrhFn}},[e._v("更多筛选 "),a("i",{class:e.moreSeacrhClass})])],1)},n=[],s={name:"goodsSearch",data:function(){return{keyWords:"",moreSeacrh:!1,moreSeacrhClass:"el-icon-arrow-down"}},props:{placeholder:String},methods:{searchFn:function(){this.$emit("onSearchFn",this.keyWords)},resetFn:function(){this.keyWords="",this.$emit("onResetFn",!0)},moreSeacrhFn:function(){this.moreSeacrh=!this.moreSeacrh,this.moreSeacrhClass=this.moreSeacrh?"el-icon-arrow-up":"el-icon-arrow-down",this.$emit("onMoreSeacrh",this.moreSeacrh)}}},o=s,i=a("2877"),l=Object(i["a"])(o,r,n,!1,null,"470c10b0",null);t["a"]=l.exports},"4de4":function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").filter,s=a("1dde"),o=s("filter");r({target:"Array",proto:!0,forced:!o},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4");var r=a("ade3");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},"7eb2":function(e,t,a){"use strict";a("8fbb")},"8fbb":function(e,t,a){},"91c6":function(e,t,a){},"9d98":function(e,t,a){"use strict";a("91c6")},a61d:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pay_note_manage"},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"待审核"}},["0"==e.activeName?a("WaitCheckNote"):e._e()],1),a("el-tab-pane",{attrs:{label:"全部支付单"}},["1"==e.activeName?a("AllPayNote"):e._e()],1)],1)],1)},n=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wait_check_note"},[a("Search",{staticStyle:{width:"652px"},attrs:{placeholder:e.placeholder},on:{onSearchFn:e.searchFn,onResetFn:e.resetFn,onMoreSeacrh:e.moreSeacrhFn}}),e.moreSearch?a("el-row",{staticClass:"more_search_box"},[a("el-col",{staticClass:"search_item_4"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"label"},[e._v("提交时间：")]),a("el-date-picker",{staticClass:"search_item_cont",attrs:{type:"daterange","unlink-panels":"","range-separator":"至",size:"small","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"]},on:{change:e.changeTime},model:{value:e.applyTime,callback:function(t){e.applyTime=t},expression:"applyTime"}})],1)]),a("el-col",{staticClass:"search_item_4"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"label"},[e._v("订单类型：")]),a("el-select",{staticClass:"search_item_cont",attrs:{size:"small",placeholder:"订单类型"},model:{value:e.searchObj.orderTypes,callback:function(t){e.$set(e.searchObj,"orderTypes",t)},expression:"searchObj.orderTypes"}},e._l(e.orderTypeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.key}})})),1)],1)])],1):e._e(),a("el-table",{ref:"xTable",staticClass:"xtable",staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",stripe:"",size:"small","tooltip-effect":"dark",height:"500px"}},[a("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"companyName","min-width":"211"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.renderCurstomeName(t.row)))])]}}])}),a("el-table-column",{attrs:{label:"订单号",prop:"orderCode",align:"center","min-width":"211"}}),a("el-table-column",{attrs:{align:"center",label:"支付类型",prop:"typeCN","min-width":"211"}}),a("el-table-column",{attrs:{align:"center",label:"订单类型",prop:"orderTypeCN","min-width":"211"}}),a("el-table-column",{attrs:{align:"center",label:"支付金额（元）",prop:"totalAmount","min-width":"211"}}),a("el-table-column",{attrs:{align:"center",label:"提交时间",prop:"createdAt","min-width":"211"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createdAt.split(".")[0].split("T").join(" ")))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","show-overflow-tooltip":"",prop:"remarks","min-width":"211"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"text_btn ",on:{click:function(a){return e.throughFn(t.row,t.$index)}}},[e._v("通过")]),a("span",{staticClass:"text_btn text_danger_btn",on:{click:function(a){return e.refusedFn(t.row,t.$index)}}},[e._v("拒绝")])]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageInfo.page,"page-sizes":[10,20,50,100],"page-size":e.pageInfo.pageSize,layout:"total, prev, pager, next, jumper, sizes",total:e.pageInfo.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{title:"支付审核-通过",visible:e.throughDialog,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(t){e.throughDialog=t},close:function(t){return e.closedFn("orderObj")}}},[a("div",[a("div",{staticClass:"primaryColor"},[a("span",{staticClass:"order_label"},[e._v("订单号：")]),a("span",[e._v(e._s(e.orderObj.orderCode))])]),a("div",{staticClass:"order_item"},[a("span",{staticClass:"order_label"},[e._v("支付金额：")]),a("span",[e._v("¥"+e._s(e.orderObj.totalAmount))])]),a("div",{staticClass:"order_item"},[a("span",{staticClass:"order_label"},[e._v("提交时间：")]),a("span",[e._v(e._s(e.orderObj.createdAt?e.orderObj.createdAt.split(".")[0].split("T").join(" "):""))])]),a("el-form",{ref:"orderObj",staticClass:"demo-ruleForm",attrs:{model:e.orderObj,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"付款流水号",prop:"transSerial"}},[a("el-input",{staticStyle:{width:"224px"},attrs:{size:"small",placeholder:"请输入客户等付款流水号"},model:{value:e.orderObj.transSerial,callback:function(t){e.$set(e.orderObj,"transSerial",t)},expression:"orderObj.transSerial"}})],1),a("el-form-item",{attrs:{label:"审核备注",prop:"remark"}},[a("el-input",{staticStyle:{width:"224px"},attrs:{type:"textarea",placeholder:"请输入文字"},model:{value:e.orderObj.remark,callback:function(t){e.$set(e.orderObj,"remark",t)},expression:"orderObj.remark"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.closedFn("orderObj")}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.onThroughSure("orderObj")}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{visible:e.refusedDialog,"show-close":!1,"close-on-click-modal":!1,width:"28%"},on:{"update:visible":function(t){e.refusedDialog=t}}},[a("div",{staticClass:"dialog-title refused_title",attrs:{slot:"title"},slot:"title"},[a("i",{staticClass:"el-icon-warning",staticStyle:{color:"#E6A23C","font-size":"24px"}}),a("span",{staticStyle:{"margin-left":"16px"}},[e._v("确认要拒绝吗？")])]),a("div",[a("span",[e._v("您确定要拒绝【"+e._s(e.renderCurstomeName(e.refusedObj))+"】订单号为 “"),a("span",{staticClass:"primaryColor"},[e._v(e._s(e.refusedObj.orderCode))]),e._v("”的支付单吗？ ")])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.refusedDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onRefusedSure}},[e._v("确 定")])],1)])],1)},o=[],i=a("5530"),l=a("3279"),c=a("d4ec"),u=a("bee2"),p=a("b775"),h=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,[{key:"getPayNoteTableList",value:function(e){return Object(p["b"])({baseURL:p["a"].pay,url:"/payments",method:"get",params:e})}},{key:"throughCheck",value:function(e){return Object(p["b"])({baseURL:p["a"].pay,url:"/payments/".concat(e.payType),method:"post",data:e.obj})}},{key:"refusedCheck",value:function(e){return Object(p["b"])({baseURL:p["a"].pay,url:"/payments/cancel",method:"post",data:e})}}]),e}(),d=new h,m={name:"WaitCheckNote",components:{Search:l["a"]},data:function(){return{placeholder:"客户名称/订单号等字段",moreSearch:!1,applyTime:[],searchObj:{keyword:"",orderTypes:""},orderTypeList:[{key:1,value:"配件购买"},{key:2,value:"会员服务购买"},{key:3,value:"余额充值"},{key:4,value:"返利"},{key:5,value:"返佣"},{key:6,value:"提现"},{key:7,value:"转账"},{key:8,value:"配件到货支付"},{key:9,value:"erp对账单支付"}],tableData:[],maxHeight:"712",pageInfo:{page:1,totalSize:0,pageSize:20},throughDialog:!1,orderObj:{},rules:{transSerial:[{required:!0,message:"请输入客户等付款流水号",trigger:"blur"}]},refusedDialog:!1,refusedObj:{}}},mounted:function(){this.initData()},methods:{renderCurstomeName:function(e){return e.companyName?e.companyName+"-"+e.companyContacts+"("+e.companyPhone+")":e.userName+"-"+e.companyContacts+"("+e.userPhone+")"},initData:function(){var e=this,t=Object(i["a"])({},this.searchObj),a=Object(i["a"])(Object(i["a"])({statuses:1,type:"financial"},t),this.pageInfo);d.getPayNoteTableList(a).then((function(t){e.tableData=t.rows,e.pageInfo.totalSize=t.totalSize})).catch((function(e){console.log(e)}))},changeTime:function(e){e?(this.searchObj.startTime=this.$dayjs(e[0]).format("YYYY-MM-DD"),this.searchObj.endTime=this.$dayjs(e[1]).format("YYYY-MM-DD")):(this.searchObj.startTime="",this.searchObj.endTime="")},searchFn:function(e){this.searchObj.keyword=e,this.pageInfo.page=1,this.initData()},resetFn:function(){this.searchObj={keyword:""},this.applyTime=[],this.initData()},moreSeacrhFn:function(e){this.maxHeight=e?"650":"712",this.moreSearch=e;var t=this.searchObj.keyword;this.searchObj={keyword:t}},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.pageInfo.page=1,this.initData()},handleCurrentChange:function(e){this.pageInfo.page=e,this.initData()},throughFn:function(e){this.orderObj=e,this.throughDialog=!0},closedFn:function(e){this.throughDialog=!1,this.$refs[e].resetFields(),this.orderObj={}},onThroughSure:function(e){var t=this,a=this;a.$refs[e].validate((function(e){if(!e)return!1;var r={payType:t.orderObj.type,obj:{orderCode:t.orderObj.orderCode,orderId:t.orderObj.orderId,transCode:t.orderObj.transSerial,remark:t.orderObj.remark,confirm:!0}};d.throughCheck(r).then((function(e){a.throughDialog=!1,a.$message.success("通过成功"),a.initData()})).catch((function(e){console.log(e)}))}))},refusedFn:function(e){this.refusedDialog=!0,this.refusedObj=e},onRefusedSure:function(){var e=this,t={orderId:this.refusedObj.orderId,orderCode:this.refusedObj.orderCode};d.refusedCheck(t).then((function(t){e.refusedDialog=!1,e.$message.success("拒绝成功"),e.initData()})).catch((function(e){console.log(e)}))}}},f=m,b=(a("9d98"),a("2877")),g=Object(b["a"])(f,s,o,!1,null,"45fd02ad",null),y=g.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all_pay_note"},[a("Search",{staticStyle:{width:"652px"},attrs:{placeholder:e.placeholder},on:{onSearchFn:e.searchFn,onResetFn:e.resetFn,onMoreSeacrh:e.moreSeacrhFn}}),e.moreSearch?a("el-row",{staticClass:"more_search_box"},[a("el-col",{staticClass:"search_item_4"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"label"},[e._v("提交时间：")]),a("el-date-picker",{staticClass:"search_item_cont",attrs:{type:"daterange","unlink-panels":"","range-separator":"至",size:"small","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"]},on:{change:e.changeTime},model:{value:e.applyTime,callback:function(t){e.applyTime=t},expression:"applyTime"}})],1)]),a("el-col",{staticClass:"search_item_4"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"label"},[e._v("支付类型：")]),a("el-select",{staticClass:"search_item_cont",attrs:{size:"small",placeholder:"支付类型"},model:{value:e.searchObj.type,callback:function(t){e.$set(e.searchObj,"type",t)},expression:"searchObj.type"}},e._l(e.payTypeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.key}})})),1)],1)]),a("el-col",{staticClass:"search_item_4"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"label"},[e._v("订单类型：")]),a("el-select",{staticClass:"search_item_cont",attrs:{size:"small",placeholder:"订单类型"},model:{value:e.searchObj.orderTypes,callback:function(t){e.$set(e.searchObj,"orderTypes",t)},expression:"searchObj.orderTypes"}},e._l(e.orderTypeList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.value,value:e.key}})})),1)],1)]),a("el-col",{staticClass:"search_item_4"},[a("div",{staticClass:"search_item"},[a("span",{staticClass:"label"},[e._v("审核方式：")]),a("el-select",{staticClass:"search_item_cont",attrs:{size:"small",placeholder:"审核方式"},model:{value:e.searchObj.autoConfirm,callback:function(t){e.$set(e.searchObj,"autoConfirm",t)},expression:"searchObj.autoConfirm"}},e._l(e.autoConfirmList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)])],1):e._e(),a("el-table",{ref:"xTable",staticClass:"xtable",staticStyle:{width:"100%",margin:"10px 0"},attrs:{data:e.tableData,border:"",stripe:"",size:"small","tooltip-effect":"dark",height:"500px"}},[a("el-table-column",{attrs:{label:"业务单号",prop:"orderCode",align:"center","min-width":"188"}}),a("el-table-column",{attrs:{align:"center",label:"支付类型",prop:"typeCN","min-width":"188"}}),a("el-table-column",{attrs:{align:"center",label:"审核方式",prop:"autoConfirmOffline","min-width":"188"}}),a("el-table-column",{attrs:{align:"center",label:"业务类型",prop:"orderTypeCN","min-width":"188"}}),a("el-table-column",{attrs:{align:"center",label:"商品类型",prop:"prdName","min-width":"188"}}),a("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"companyName","min-width":"188"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.renderCurstomeName(t.row)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"支付金额（元）",prop:"totalAmount","min-width":"188"}}),a("el-table-column",{attrs:{align:"center",label:"付款流水号",prop:"transSerial","min-width":"188"}}),a("el-table-column",{attrs:{align:"center",label:"支付时间",prop:"completeTime","min-width":"188"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.completeTime.split(".")[0].split("T").join(" ")))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"备注","show-overflow-tooltip":"",prop:"remarks","min-width":"188"}})],1),a("el-pagination",{staticStyle:{"text-align":"right"},attrs:{"current-page":e.pageInfo.page,"page-sizes":[10,20,50,100],"page-size":e.pageInfo.pageSize,layout:"total, prev, pager, next, jumper, sizes",total:e.pageInfo.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},_=[],j=new h,C={name:"AllPayNote",components:{Search:l["a"]},data:function(){return{placeholder:"客户名称/订单号等字段",moreSearch:!1,applyTime:[],searchObj:{keyword:"",type:"",orderTypes:"",autoConfirm:""},payTypeList:[{key:"eqiming",value:"银联支付"},{key:"pingpp",value:"PING++"},{key:"financial",value:"线下支付"},{key:"balance",value:"余额支付"},{key:"credit",value:"赊销"}],orderTypeList:[{key:1,value:"配件购买"},{key:2,value:"会员服务购买"},{key:3,value:"余额充值"},{key:4,value:"返利"},{key:5,value:"返佣"},{key:6,value:"提现"},{key:7,value:"转账"},{key:8,value:"配件到货支付"}],autoConfirmList:[{id:!0,name:"自动审核"},{id:!1,name:"手动审核"}],tableData:[],maxHeight:"712",pageInfo:{page:1,totalSize:0,pageSize:20}}},mounted:function(){this.initData()},methods:{renderCurstomeName:function(e){return e.companyName?e.companyName+"-"+e.companyContacts+"("+e.companyPhone+")":e.userName+"-"+e.companyContacts+"("+e.userPhone+")"},initData:function(){var e=this,t=Object(i["a"])({},this.searchObj),a=Object(i["a"])(Object(i["a"])({statuses:2},t),this.pageInfo);this.tableData=[],j.getPayNoteTableList(a).then((function(t){e.tableData=t.rows,e.pageInfo.totalSize=t.totalSize})).catch((function(e){console.log(e)}))},changeTime:function(e){e?(this.searchObj.startTime=this.$dayjs(e[0]).format("YYYY-MM-DD"),this.searchObj.endTime=this.$dayjs(e[1]).format("YYYY-MM-DD")):(this.searchObj.startTime="",this.searchObj.endTime="")},searchFn:function(e){this.searchObj.keyword=e,this.pageInfo.page=1,this.initData()},resetFn:function(){this.searchObj={keyword:""},this.applyTime=[],this.initData()},moreSeacrhFn:function(e){this.maxHeight=e?"650":"712",this.moreSearch=e},handleSizeChange:function(e){this.pageInfo.pageSize=e,this.pageInfo.page=1,this.initData()},handleCurrentChange:function(e){this.pageInfo.page=e,this.initData()}}},k=C,O=(a("178f"),Object(b["a"])(k,v,_,!1,null,"7d46346d",null)),w=O.exports,S={name:"payNoteManage",components:{WaitCheckNote:y,AllPayNote:w},data:function(){return{activeName:"0"}},mounted:function(){},methods:{}},T=S,x=(a("7eb2"),Object(b["a"])(T,r,n,!1,null,"594750da",null));t["default"]=x.exports},ade3:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return r}))},b64b:function(e,t,a){var r=a("23e7"),n=a("7b0b"),s=a("df75"),o=a("d039"),i=o((function(){s(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(e){return s(n(e))}})},bee2:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}a.d(t,"a",(function(){return n}))},d4ec:function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return r}))},dbb4:function(e,t,a){var r=a("23e7"),n=a("83ab"),s=a("56ef"),o=a("fc6a"),i=a("06cf"),l=a("8418");r({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,a,r=o(e),n=i.f,c=s(r),u={},p=0;while(c.length>p)a=n(r,t=c[p++]),void 0!==a&&l(u,t,a);return u}})},e439:function(e,t,a){var r=a("23e7"),n=a("d039"),s=a("fc6a"),o=a("06cf").f,i=a("83ab"),l=n((function(){o(1)})),c=!i||l;r({target:"Object",stat:!0,forced:c,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o(s(e),t)}})},e5d6:function(e,t,a){}}]);
//# sourceMappingURL=chunk-5ec53688.d4b00f6f.js.map