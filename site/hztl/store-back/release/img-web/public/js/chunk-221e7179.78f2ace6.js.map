{"version":3,"sources":["webpack:///./src/views/goods/stockGroup/stockGroupIndex.vue?8355","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./src/views/goods/stockGroup/stockGroupIndex.vue?51d3","webpack:///./src/views/goods/stockGroup/services/index.js","webpack:///src/views/goods/stockGroup/stockGroupIndex.vue","webpack:///./src/views/goods/stockGroup/stockGroupIndex.vue?d81e","webpack:///./src/views/goods/stockGroup/stockGroupIndex.vue"],"names":["$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","_defineProperties","props","i","length","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","render","_vm","_h","$createElement","_c","_self","class","$store","state","paddingLeft","staticStyle","attrs","staticClass","model","value","callback","$$v","searchIpt","expression","on","searchFn","_v","resetFn","addLabelFn","ref","tableData","handleSelectionChange","scopedSlots","_u","fn","scope","_s","renderRow","row","$event","editClick","$index","delClick","tableDataChange","searchResult","selection","allDeleteFn","pageInfo","page","pageSize","totalSize","handleSizeChange","handleCurrentChange","labelTitle","labelVisible","labelForm","rules","$set","_l","item","warehouseNo","warehouseName","disabled","slot","cancelClick","saveClick","submitClick","_e","staticRenderFns","StockGroupApi","params","request","baseURL","SERVICE_MODULE_MAP","accounts","url","method","data","id","name","multipleSelection","warehouseNos","houseList","editIndex","searchAll","hasWarehouse","created","getWarehouse","mounted","initData","methods","stockGroupApi","then","console","log","error","getStockInfo","obj","hasWarehouseFn","forEach","k","$refs","multipleTable","clearSelection","warehouse","toReplaceClick","window","location","replace","index","assign","rowHouse","val","$confirm","deleteFn","cond","ids","delData","push","p","deleteWarehouse","message","type","$message","toggleSelection","rows","formName","resetFields","validate","valid","insertWarehouse","updateWarehouse","objData","component"],"mappings":"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","file":"js/chunk-221e7179.78f2ace6.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stockGroupIndex.vue?vue&type=style&index=0&id=1e4b9112&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['union_stock_group',_vm.$store.state.paddingLeft],staticStyle:{\"min-width\":\"1250px\"},attrs:{\"id\":\"page-union_stock_group\"}},[_c('div',{staticClass:\"label_manage\"},[_c('div',{staticClass:\"label_search\"},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"size\":\"small\",\"placeholder\":\"分组名称或仓库名称\",\"suffix-icon\":\"el-icon-search\"},model:{value:(_vm.searchIpt),callback:function ($$v) {_vm.searchIpt=$$v},expression:\"searchIpt\"}}),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.searchFn}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.resetFn}},[_vm._v(\"重置\")])],1),_c('el-button',{staticStyle:{\"margin\":\"10px 0\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.addLabelFn}},[_vm._v(\"新建分组\")]),_c('el-table',{ref:\"multipleTable\",staticClass:\"xtable\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"data\":_vm.tableData,\"border\":\"\",\"stripe\":\"\",\"max-height\":\"650\",\"tooltip-effect\":\"dark\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"分组名称\",\"align\":\"center\",\"min-width\":\"400\"}}),_c('el-table-column',{attrs:{\"prop\":\"warehouseNames\",\"label\":\"关联仓库\",\"align\":\"center\",\"min-width\":\"400\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"#6589F8\"}},[_vm._v(_vm._s(_vm.renderRow(scope.row)))])]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editClick(scope.row,scope.$index)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticClass:\"txt_danger\",attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delClick(scope.row,scope.$index)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"page_footer\"},[_c('div',[_c('el-checkbox',{on:{\"change\":function($event){return _vm.tableDataChange(_vm.tableData)}},model:{value:(_vm.searchResult),callback:function ($$v) {_vm.searchResult=$$v},expression:\"searchResult\"}},[_vm._v(\"全选当前查询结果\")]),_c('span',{staticStyle:{\"margin\":\"0 6px\",\"padding\":\"0px 6px\",\"border-left\":\"1px solid #000\",\"border-right\":\"1px solid #000\"}},[_vm._v(\"已选中 \"+_vm._s(_vm.selection.length)+\" 条\")]),_c('span',[_vm._v(\"批量操作\")]),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"plain\":\"\",\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":_vm.allDeleteFn}},[_vm._v(\"删除\")])],1),_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfo.page,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.pageInfo.pageSize,\"layout\":\"total, prev, pager, next, jumper, sizes\",\"total\":_vm.pageInfo.totalSize},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.labelTitle,\"close-on-click-modal\":false,\"visible\":_vm.labelVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.labelVisible=$event}}},[_c('el-form',{ref:\"labelForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.labelForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"分组名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.labelForm.name),callback:function ($$v) {_vm.$set(_vm.labelForm, \"name\", $$v)},expression:\"labelForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"关联仓库\",\"prop\":\"warehouseNames\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"small\",\"multiple\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择关联仓库\"},model:{value:(_vm.labelForm.warehouseNos),callback:function ($$v) {_vm.$set(_vm.labelForm, \"warehouseNos\", $$v)},expression:\"labelForm.warehouseNos\"}},_vm._l((_vm.houseList),function(item){return _c('el-option',{key:item.warehouseNo,attrs:{\"label\":item.warehouseName,\"value\":item.warehouseNo,\"disabled\":item.disabled}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.cancelClick('labelForm')}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveClick('labelForm')}}},[_vm._v(\"保存\")]),(_vm.labelTitle == '新建分组')?_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitClick('labelForm')}}},[_vm._v(\"保存并新建\")]):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request, { SERVICE_MODULE_MAP } from \"@/utils/request\";\n\n\nexport class StockGroupApi {\n\n  //获取库存信息 \n  getStockInfo(params) {\n    return request({\n      baseURL: SERVICE_MODULE_MAP.accounts,\n      url: `/companies/warehouse-groups`,\n      method: \"get\",\n      params\n    });\n  }\n\n   //获取仓库list \n   getWarehouse(params) {\n    return request({\n      baseURL: SERVICE_MODULE_MAP.accounts,\n      url: `/companies/warehouse-groups/warehouses`,\n      method: \"get\",\n      params\n    });\n  }\n\n  //删除仓库list \n  deleteWarehouse(params) {\n    return request({\n      baseURL: SERVICE_MODULE_MAP.accounts,\n      url: `/companies/warehouse-groups`,\n      method: \"delete\",\n      data: params\n    });\n  }\n\n  //新增 仓库list \n  insertWarehouse(params) {\n    return request({\n      baseURL: SERVICE_MODULE_MAP.accounts,\n      url: `/companies/warehouse-groups`,\n      method: \"post\",\n      data: params\n    });\n  }\n\n  //编辑修改仓库list\n  updateWarehouse(params) {\n    return request({\n      baseURL: SERVICE_MODULE_MAP.accounts,\n      url: `/companies/warehouse-groups/${params.id}`,\n      method: \"post\",\n      data: params\n    });\n  }\n}\n","<template>\n  <div :class=\"['union_stock_group',$store.state.paddingLeft]\"\n        id=\"page-union_stock_group\"\n        style=\"min-width:1250px;\"\n  >\n \n    <div class=\"label_manage\">\n      <div class=\"label_search\">\n        <el-input size=\"small\"\n          style=\"width:300px;\"\n          placeholder=\"分组名称或仓库名称\"\n          suffix-icon=\"el-icon-search\"\n          v-model=\"searchIpt\">\n        </el-input>\n        <el-button type=\"primary\" size=\"small\" style=\"margin-left: 10px;\" @click=\"searchFn\">查询</el-button>\n        <el-button  size=\"small\" @click=\"resetFn\">重置</el-button>\n      </div>\n      <el-button type=\"primary\" size=\"small\" style=\"margin: 10px 0;\"\n        @click=\"addLabelFn\">新建分组</el-button>\n      <el-table ref=\"multipleTable\" \n        size=\"small\" class=\"xtable\"\n        @selection-change=\"handleSelectionChange\"\n        :data=\"tableData\" \n        border  stripe\n        max-height=\"650\"\n        tooltip-effect=\"dark\" \n        style=\"width: 100%\">\n        <el-table-column\n          type=\"selection\"\n          align='center'\n          width=\"55\">\n        </el-table-column>\n        <el-table-column\n          prop=\"name\"\n          label=\"分组名称\"\n          align='center'\n          min-width=\"400\">\n        </el-table-column>\n        <el-table-column\n          prop=\"warehouseNames\"\n          label=\"关联仓库\"\n          align='center'\n          min-width=\"400\"\n          >\n          <template slot-scope=\"scope\">\n            <span style=\"color:#6589F8;\">{{renderRow(scope.row)}}</span>\n            <!-- <el-button @click=\"toReplaceClick(scope.row)\" type=\"text\" size=\"small\">{{renderRow(scope.row)}}</el-button> -->\n          </template>\n        </el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label=\"操作\"\n          align=\"center\"\n          width=\"160\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"editClick(scope.row,scope.$index)\" type=\"text\" size=\"small\">编辑</el-button>\n            <el-button @click=\"delClick(scope.row,scope.$index)\" type=\"text\" class=\"txt_danger\" size=\"small\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"page_footer\">\n        <div>\n          <el-checkbox v-model=\"searchResult\" @change=\"tableDataChange(tableData)\">全选当前查询结果</el-checkbox> \n          <span style=\"margin:0 6px;padding:0px 6px;border-left:1px solid #000;border-right:1px solid #000;\">已选中 {{selection.length}} 条</span>\n          <span>批量操作</span>\n          <el-button plain size=\"small\" type=\"danger\" style=\"margin-left:5px;\"\n            @click=\"allDeleteFn\">删除</el-button>\n        </div>\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"pageInfo.page\"\n          :page-sizes=\"[10, 20, 30, 40]\"\n          :page-size=\"pageInfo.pageSize\"\n          layout=\"total, prev, pager, next, jumper, sizes\"\n          :total=\"pageInfo.totalSize\">\n        </el-pagination>\n      </div>\n    </div>\n    <el-dialog\n      :title=\"labelTitle\" :close-on-click-modal='false'\n      :visible.sync=\"labelVisible\"\n      width=\"30%\">\n      <el-form :model=\"labelForm\" :rules=\"rules\" ref=\"labelForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"分组名称\" prop=\"name\">\n          <el-input size=\"small\"  v-model=\"labelForm.name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"关联仓库\" prop=\"warehouseNames\">\n          <el-select \n            v-model=\"labelForm.warehouseNos\" \n            style=\"width:100%;\" size=\"small\"\n            multiple filterable placeholder=\"请选择关联仓库\">\n            <el-option\n              v-for=\"item in houseList\"\n              :key=\"item.warehouseNo\"\n              :label=\"item.warehouseName\"\n              :value=\"item.warehouseNo\"\n              :disabled=\"item.disabled\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"cancelClick('labelForm')\">取消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"saveClick('labelForm')\">保存</el-button>\n        <el-button size=\"small\" type=\"primary\" v-if=\"labelTitle == '新建分组'\" @click=\"submitClick('labelForm')\">保存并新建</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport { StockGroupApi } from './services'\nconst stockGroupApi = new StockGroupApi();\n\nexport default {\n  name: \"union_stock_group\",\n  data(){\n    return{\n      tableData: [],\n      multipleSelection: [],\n      selection: [],//已选中\n      searchIpt:'',\n      \n      pageInfo:{\n        page: 1,\n        totalSize:0,\n        pageSize:20\n      },\n      searchResult:false,\n      labelVisible:false,\n      labelTitle:\"新建分组\",\n      labelForm:{\n        name:'',\n        warehouseNos:[]\n      },\n      houseList: [],\n      rules: {\n        name: [\n          { required: true, message: '请输入分组名称', trigger: 'blur' },\n          {  max: 10, message: '最多支持输入10个字符', trigger: 'blur' }\n        ],\n      },\n      editIndex:-1,\n      searchAll:false,//  delete查询结果所有,true:是;false:不是\n      hasWarehouse:[],//已关联仓库\n    }\n  },\n  created(){\n    this.getWarehouse();\n  },\n  mounted(){\n  \n    this.initData();\n  },\n  methods:{\n   \n    getWarehouse(){//获取仓库list\n      this.houseList = [];\n      stockGroupApi.getWarehouse().then(res =>{\n        this.houseList = res;\n      }).catch(error => {\n        console.log(error);\n      });\n      \n    },\n    initData(){//数据初始化\n      \n      let obj = {\n        page:this.pageInfo.page,\n        pageSize:this.pageInfo.pageSize,\n        name:this.searchIpt\n      };\n      this.tableData = [];\n      stockGroupApi.getStockInfo(obj).then(res =>{\n        this.tableData = res.rows ? res.rows : [];\n        this.pageInfo.totalSize = res.totalSize;\n        this.hasWarehouseFn();\n      }).catch(error => {\n        console.log(error);\n      });\n      \n    },\n    hasWarehouseFn(){\n      this.hasWarehouse = [];\n\n      this.tableData.forEach(p =>{\n        this.hasWarehouse = this.hasWarehouse.concat(p.warehouseNos);\n      });\n\n      this.houseList.forEach(k =>{\n        this.hasWarehouse.forEach(h =>{\n          if(h == k.warehouseNo){\n            k.disabled = true;\n          }\n        })\n      })\n    },\n    searchFn(){\n      this.initData();\n      this.$refs.multipleTable.clearSelection();\n      this.searchResult = false;\n    },\n    resetFn(){\n      this.searchIpt = '';\n      this.searchFn();\n    },\n    renderRow(row){\n      let warehouse = row.warehouseNames ? row.warehouseNames.join('、') : '';\n      return warehouse;\n    },\n    toReplaceClick(row){//跳转\n      window.location.replace('#/union_goods_stock');\n    },\n    editClick(row,index) {//编辑\n      this.labelTitle = '编辑分组';\n      this.editIndex = index;\n      this.labelVisible = true;\n      this.labelForm = Object.assign({},row);\n\n      let rowHouse = row.warehouseNos;\n      this.houseList.forEach(k =>{\n        rowHouse.forEach(h =>{\n          if(h == k.warehouseNo){\n            k.disabled = false;\n          }\n        })\n      })\n    },\n    \n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n      this.selection = val;\n    },\n    handleSizeChange(val) {\n      this.pageInfo.pageSize = val;\n      this.pageInfo.page = 1;\n      this.initData();\n    },\n    handleCurrentChange(val) {\n      this.pageInfo.page = val;\n      this.initData();\n    },\n    delClick(row,index) {//删除\n      this.searchAll = false;\n      this.$confirm('你确定要删除当前分组吗？')\n      .then(_ => {\n        //调用删除接口\n        this.deleteFn(row,0);\n      })\n      .catch(_ => {});\n    },\n    deleteFn(delData,type){\n      let obj = {};\n      if(!type){\n        obj = {\n          searchAll:this.searchAll,\n          cond:{\n            name:this.searchIpt\n          },\n          ids:[delData.id]\n        };\n      }else{\n        obj = {\n          searchAll:this.searchAll,\n          cond:{\n            name:this.searchIpt\n          },\n          ids:[]\n        };\n        delData.forEach(p=>{\n          obj.ids.push(p.id);\n        })\n      }\n      stockGroupApi.deleteWarehouse(obj).then(res =>{\n        this.$message({\n          message: '删除成功',\n          type: 'success'\n        });\n        this.searchFn();\n      }).catch(error => {\n        console.log(error);\n      });\n      \n    },\n    allDeleteFn(){//批量删除\n      if(!this.selection.length){\n        this.$message({\n          message: '你还没有选择数据',\n          type: 'warning'\n        });\n        return false;\n      }\n      this.$confirm('你确定要删除当前分组吗？')\n      .then(_ => {\n        //调用删除接口\n        this.deleteFn(this.selection,1);\n      })\n      .catch(error => {\n        this.$message.error(error);\n      });\n      \n    },\n    tableDataChange(val){\n      this.toggleSelection(val);\n    },\n    toggleSelection(rows) {\n      if (rows) {\n        this.searchAll = true;\n        rows.forEach(row => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.searchAll = false;\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    addLabelFn(){//新建标签\n      this.labelTitle = '新建分组';\n      this.labelVisible = true;\n      this.labelForm = {\n        name:'',\n        warehouseNos:[]\n      }\n    },\n    cancelClick(formName){//取消\n      this.labelVisible = false;\n      this.$refs[formName].resetFields();\n    },\n    saveClick(formName){//保存\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if(this.labelTitle == '新建分组'){//新建\n            stockGroupApi.insertWarehouse(this.labelForm).then(res =>{\n              this.$message({\n                message: '新建分组成功',\n                type: 'success'\n              });\n              this.initData();\n              this.labelVisible = false;\n              this.labelForm = {\n                name:'',\n                warehouseNos:[]\n              }\n            }).catch(error => {\n              console.log(error);\n            });\n            \n          }else{//编辑\n            //保存接口\n            let objData = {\n              id:this.labelForm.id,\n              name:this.labelForm.name,\n              warehouseNos:this.labelForm.warehouseNos\n            }\n            stockGroupApi.updateWarehouse(objData).then(res =>{\n              this.$message({\n                message: '编辑成功',\n                type: 'success'\n              });\n              this.initData();\n              this.labelVisible = false;\n            }).catch(error => {\n              console.log(error);\n            });\n            \n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    submitClick(formName){//保存并新建\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          //保存并新建接口\n          stockGroupApi.insertWarehouse(this.labelForm).then(res =>{\n            this.$message({\n              message: '新建分组成功',\n              type: 'success'\n            });\n            this.initData();\n            this.$refs[formName].resetFields();\n            this.labelForm = {\n              name:'',\n              warehouseNos:[]\n            }\n          }).catch(error => {\n            console.log(error);\n          });\n          \n        } else {\n          return false;\n        }\n      });\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.union_stock_group{\n  padding: 0 @padding-size-main;\n  .label_manage{\n    background: #ffffff;\n    height: 100%;\n    overflow: hidden;\n    text-align: left;\n    .label_search{\n      padding:10px 0;\n      \n    }\n    .txt_danger{\n      color:#F56C6C;\n    }\n    .txt_danger:hover{\n      color:#f78989;\n    }\n    .page_footer{\n      font-size: 14px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: 10px;\n    }\n  }\n  .el-dialog__title{\n    text-align: left;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stockGroupIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stockGroupIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./stockGroupIndex.vue?vue&type=template&id=1e4b9112&scoped=true&\"\nimport script from \"./stockGroupIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./stockGroupIndex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./stockGroupIndex.vue?vue&type=style&index=0&id=1e4b9112&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e4b9112\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}