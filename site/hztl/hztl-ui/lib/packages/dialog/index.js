!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("dialog",[],t):"object"==typeof exports?exports.dialog=t():e.dialog=t()}(window,(function(){return function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=47)}({0:function(e,t,o){"use strict";function i(e,t,o,i,n,s,l,r){var a,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=o,d._compiled=!0),i&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),l?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},d._ssrRegister=a):n&&(a=r?function(){n.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:n),a)if(d.functional){d._injectStyles=a;var u=d.render;d.render=function(e,t){return a.call(t),u(e,t)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,a):[a]}return{exports:e,options:d}}o.d(t,"a",(function(){return i}))},13:function(e,t){e.exports=require("element-ui/lib/mixins/migrating")},16:function(e,t){e.exports=require("element-ui/lib/utils/popup")},47:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[o("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{"aria-label":e.title||"dialog",role:"dialog","aria-modal":"true"}},[o("div",{ref:"slider",staticClass:"el-dialog__header"},[e._t("title",[o("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?o("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[o("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?o("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?o("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])};i._withStripped=!0;var n=o(16),s=o.n(n),l=o(13),r=o.n(l),a=o(8),d=o.n(a),u={name:"HtDialog",mixins:[s.a,d.a,r.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!1},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:()=>({positionTop:"15vh",setLeft:null,closed:!1,key:0}),computed:{relWidth(){return this.width?this.width:"50%"},positionLeft(){return null!==this.setLeft?this.setLeft:`calc(50vw - ${this.relWidth} / 2)`},style(){let e={};return this.fullscreen||(e.top=this.positionTop,e.left=this.positionLeft,e.width=this.relWidth),e}},watch:{top:{handler(e){this.positionTop=e},immediate:!0},visible(e){e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(()=>{this.positionTop=this.top,this.setLeft=null,this.initRightListen()}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$refs.slider.onmousedown=null,this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(()=>{this.key++}))}},mounted(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el),this.$nextTick(()=>{this.$el.addEventListener("scroll",this.updatePopper)}))},beforeDestroy(){this.$refs.slider.onmousedown=null,this.$el.removeEventListener("scroll",this.updatePopper)},destroyed(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},methods:{initRightListen(){const e=this.$refs.slider,t=50-this.$refs.dialog.clientWidth,o=document.body.clientWidth-50,i=document.body.clientHeight-50;e.onmousedown=n=>{const s=n.clientX,l=n.clientY,r=this.$refs.dialog.offsetLeft,a=this.$refs.dialog.offsetTop;document.onmousemove=e=>{e.preventDefault();const n=e.clientX-s,d=e.clientY-l;let u=r+n,p=a+d;u<t?u=t:u>o&&(u=o),p<0?p=0:p>i&&(p=i),this.setLeft=u+"px",this.positionTop=p+"px"},document.onmouseup=()=>{e.releaseCapture&&e.releaseCapture(),document.onmousemove=null,document.onmouseup=null},e.setCapture&&e.setCapture()}},getMigratingConfig:()=>({props:{size:"size is removed."}}),handleWrapperClick(){this.closeOnClickModal&&this.handleClose()},handleClose(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter(){this.$emit("opened")},afterLeave(){this.$emit("closed")}}},p=o(0),c=Object(p.a)(u,i,[],!1,null,null,null);c.options.__file="packages/dialog/src/component.vue";var f=c.exports;f.install=function(e){e.component(f.name,f)};t.default=f},8:function(e,t){e.exports=require("element-ui/lib/mixins/emitter")}}).default}));
//# sourceMappingURL=index.js.map