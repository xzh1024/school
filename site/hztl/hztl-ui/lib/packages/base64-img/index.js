!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("hztl-ui/lib/utils/img-base64")):"function"==typeof define&&define.amd?define("base64-img",["hztl-ui/lib/utils/img-base64"],t):"object"==typeof exports?exports["base64-img"]=t(require("hztl-ui/lib/utils/img-base64")):e["base64-img"]=t(e["hztl-ui/lib/utils/img-base64"])}(window,(function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=50)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,a,s){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:u}}i.d(t,"a",(function(){return n}))},33:function(t,i){t.exports=e},50:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this.$createElement,t=this._self._c||e;return t("el-upload",{ref:"upload",staticClass:"ht-base64-img",attrs:{"on-remove":this.handleRemove,"before-upload":this.beforeAvatarUpload,"on-change":this.handleFileListChange,"auto-upload":!1,"file-list":this.fileList,action:"",accept:"image/*","list-type":"picture-card"}},[t("i",{staticClass:"el-icon-plus"})])};n._withStripped=!0;var r=i(33),o={name:"HtBase64Img",componentName:"HtBase64Img",model:{prop:"value",event:"change"},props:{value:{type:String,required:!0},limitSize:{type:Number,default:0}},data:()=>({fileList:[]}),computed:{uploadRef(){return this.$refs.upload}},watch:{value:{immediate:!0,handler(e){this.fileList=e?[{status:"ready",name:"",url:this.value}]:[]}}},methods:{handleRemove(){this.$emit("change")},beforeAvatarUpload:()=>!1,handleFileListChange(e,t){let i=t.slice(-1)[0];i&&(this.limitSize&&i.size>this.limitSize?(this.$alert(`图片大小不能超过${this.limitSize/1024}kb`,"提示"),i=this.fileList[0]):Object(r.getCanvasBase64)(i.url).then(e=>{this.$emit("change",e)})),this.fileList=[i]}}},a=i(0),s=Object(a.a)(o,n,[],!1,null,null,null);s.options.__file="packages/base64-img/src/base64-img.vue";var l=s.exports;l.install=function(e){e.component(l.name,l)};t.default=l}}).default}));
//# sourceMappingURL=index.js.map