!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("hztl-ui/lib/utils/filter-data"),require("hztl-ui/lib/packages/autocomplete")):"function"==typeof define&&define.amd?define("autoselect",["hztl-ui/lib/utils/filter-data","hztl-ui/lib/packages/autocomplete"],t):"object"==typeof exports?exports.autoselect=t(require("hztl-ui/lib/utils/filter-data"),require("hztl-ui/lib/packages/autocomplete")):e.autoselect=t(e["hztl-ui/lib/utils/filter-data"],e["hztl-ui/lib/packages/autocomplete"])}(window,(function(e,t){return function(e){var t={};function n(u){if(t[u])return t[u].exports;var i=t[u]={i:u,l:!1,exports:{}};return e[u].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,u){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:u})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(u,i,function(t){return e[t]}.bind(null,i));return u},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=43)}({0:function(e,t,n){"use strict";function u(e,t,n,u,i,l,a,s){var o,r="function"==typeof e?e.options:e;if(t&&(r.render=t,r.staticRenderFns=n,r._compiled=!0),u&&(r.functional=!0),l&&(r._scopeId="data-v-"+l),a?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},r._ssrRegister=o):i&&(o=s?function(){i.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:i),o)if(r.functional){r._injectStyles=o;var p=r.render;r.render=function(e,t){return o.call(t),p(e,t)}}else{var h=r.beforeCreate;r.beforeCreate=h?[].concat(h,o):[o]}return{exports:e,options:r}}n.d(t,"a",(function(){return u}))},23:function(t,n){t.exports=e},32:function(e,n){e.exports=t},43:function(e,t,n){"use strict";n.r(t);var u=function(){var e=this,t=e.$createElement;return(e._self._c||t)("HtAutocomplete",e._g(e._b({ref:"autocomplete",attrs:{"fetch-suggestions":e.relFetchSuggestions,value:e.useValue,"no-data-text":e.noDataText,"no-match-text":e.noMatchText,"show-suffix":""},on:{select:e.handleSelect,input:e.handleInput,blur:e.handleBlur,clear:e.handleClear,"intput-enter":e.intputEnter},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[e._t("default",null,{item:n})]}}],null,!0)},"HtAutocomplete",e.$attrs,!1),e.passListeners))};u._withStripped=!0;var i=n(23),l=n(32),a={name:"HtAutoselect",componentName:"HtAutoselect",components:{HtAutocomplete:n.n(l).a},model:{prop:"value",event:"change"},props:{value:null,keepInput:Boolean,keepInputValue:String,defaultValue:{type:[String,Number,Boolean],default:""},formatName:Function,options:Array,fetchSuggestions:{type:Function},noMatchText:{type:String,default:"没有匹配到数据"},noDataText:String,remote:Boolean,mnemonic:Boolean,filterZero:Boolean},data:()=>({useKeepInputValue:null,useDefaultValue:null,filteredOptions:[],isNoMatch:!1,inputValue:null}),computed:{passListeners(){let{change:e,input:t,"intput-enter":n,...u}=this.$listeners;return u},useOptions(){let e=this.options?this.options:this.filteredOptions||[];return e=e.filter(e=>e.name),e},useValue:{get(){if(null!==this.inputValue)return this.inputValue;let e=this.useOptions.find(e=>this.value===e.id);if(e)return this.formatName?this.formatName(e.name):e.name;let t=this.filterZero&&0===this.value?null:this.useDefaultValue;return this.keepInput&&(t=this.useKeepInputValue),t},set(e){let t=e?this.value:null,n=e?this.useDefaultValue:null,u=this.useOptions.find(t=>e==t.name);u?(t=u.id,n=u.name,this.inputValue=null):this.keepInput&&(t=null,n=null,this.inputValue=null),this.value===t&&this.useDefaultValue===n||(this.$emit("update:defaultValue",n,this.useDefaultValue),this.$emit("defaultValueChange",n,this.useDefaultValue),this.$emit("selectObjChange",{id:t,name:n},{id:this.value,name:this.useDefaultValue}),this.$emit("change",t,this.value),this.useDefaultValue=n)}}},watch:{value(){this.inputValue=null},keepInputValue(e){this.keepInputValue!==this.useKeepInputValue&&(this.useKeepInputValue=e)},useKeepInputValue(e){this.keepInputValue!==this.useKeepInputValue&&(this.$emit("update:keepInputValue",e),this.$emit("input-change",this.useKeepInputValue))},defaultValue:{handler(e){this.useDefaultValue=e},immediate:!0}},methods:{foucs(){this.$ref.autocomplete.foucs()},intputEnter(e){this.isNoMatch?this.$emit("no-match-enter",e,this.inputValue):this.$emit("intput-enter",e)},async relFetchSuggestions(e,t){this.remote?this.filteredOptions=await this.fetchSuggestions(e):this.filteredOptions=this.mnemonic?this.mnemonicSearch(e):this.localSearchData(e),this.isNoMatch=!this.filteredOptions.length,t(this.filteredOptions.filter(e=>e.name).map(e=>({...e,value:e.name})))},handleInput(e){this.inputValue=e,e||(this.useValue=""),this.keepInput&&(this.useKeepInputValue=this.useValue=this.inputValue)},handleSelect(e){this.useValue=e.value||"",this.keepInput&&e.value&&(this.useKeepInputValue=e.value)},handleClear(){this.useKeepInputValue=""},handleBlur(){this.inputValue=null,this.isNoMatch&&(this.isNoMatch=!1)},localSearchData(...e){return Object(i.localSearchData)(this.options,...e)},mnemonicSearch(e){return Object(i.mnemonicSearch)(this.options,e)}}},s=n(0),o=Object(s.a)(a,u,[],!1,null,null,null);o.options.__file="packages/autoselect/src/autoselect.vue";var r=o.exports;r.install=function(e){e.component(r.name,r)};t.default=r}}).default}));
//# sourceMappingURL=index.js.map