!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("hztl-ui/lib/utils/date-util"),require("hztl-ui/lib/utils/price-uppercase"),require("hztl-ui/lib/packages/resize-box")):"function"==typeof define&&define.amd?define("tem-invoice",["hztl-ui/lib/utils/date-util","hztl-ui/lib/utils/price-uppercase","hztl-ui/lib/packages/resize-box"],t):"object"==typeof exports?exports["tem-invoice"]=t(require("hztl-ui/lib/utils/date-util"),require("hztl-ui/lib/utils/price-uppercase"),require("hztl-ui/lib/packages/resize-box")):e["tem-invoice"]=t(e["hztl-ui/lib/utils/date-util"],e["hztl-ui/lib/utils/price-uppercase"],e["hztl-ui/lib/packages/resize-box"])}(window,(function(e,t,i){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=55)}({0:function(e,t,i){"use strict";function a(e,t,i,a,o,n,s,l){var r,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),s?(r=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=r):o&&(r=l?function(){o.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:o),r)if(c.functional){c._injectStyles=r;var u=c.render;c.render=function(e,t){return r.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,r):[r]}return{exports:e,options:c}}i.d(t,"a",(function(){return a}))},1:function(e,t){e.exports=require("vuex")},10:function(t,i){t.exports=e},11:function(e,t){e.exports=require("vuedraggable")},15:function(e,t){e.exports=require("vue-fragment")},18:function(e,i){e.exports=t},19:function(e,t){e.exports=i},2:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"f",(function(){return s})),i.d(t,"e",(function(){return l})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return c}));const a=[{name:"分割线",key:"divider",type:"divider",width:4},{name:"自定义字段",key:"custom",type:"custom",width:4}];function o(e,t){let i=0;for(;n(e,`${t}-${i}`);)i++;return`${t}-${i}`}function n(e,t){return!!e.find(e=>e.key===t)}function s(e){return!!e.includes("-")&&a.find(t=>e.includes(t.key))}function l(e){return a.find(t=>e===t.key)}function r(e){return e.split("-")[0]}function c(e,t){return{width:t?e.width+"px":void 0,fontSize:e.fontSize?e.fontSize+"px":"inherit",fontWeight:e.isBold?"bold":"inherit",fontStyle:e.isOblique?"oblique":"inherit",textAlign:e.textAlign||"inherit"}}},20:function(e,t,i){"use strict";i.d(t,"a",(function(){return f}));var a=i(1),o=i.n(a);var n={state:function(){return{fontSize:12}},mutations:{changeGloBalSetting(e,t){for(let i in t)e[i]=t[i]}},actions:{initGlobalData({commit:e},t){const{fontSize:i}=t;e("changeGloBalSetting",{fontSize:i})}}},s=i(4);var l={state:function(){return{curEditKey:null}},actions:{changeCurSetting({commit:e,state:t,getters:i},a){const{templateHeader:o,templateBody:n,templateFooter:l,templateTail:r}=i;o.find(e=>e.key===t.curEditKey)?e("changeTemplateHeader",o.map(e=>e.key===t.curEditKey?{...e,...a}:e)):l.find(e=>e.key===t.curEditKey)?e("changeTemplateFooter",l.map(e=>e.key===t.curEditKey?{...e,...a}:e)):r.find(e=>e.key===t.curEditKey)?e("changeTemplateTail",r.map(e=>e.key===t.curEditKey?{...e,...a}:e)):Object(s.flatten)(n.map(e=>e.content)).find(e=>e.key===t.curEditKey)&&e("changeTemplateBody",n.map(e=>({...e,content:e.content.map(e=>e.key===t.curEditKey?{...e,...a}:e)})))}},getters:{curEdit(e,t){const{templateHeader:i,templateBody:a,templateFooter:o,templateTail:n}=t;return[...i,...o,...n].find(t=>t.key===e.curEditKey)||Object(s.flatten)(a.map(e=>e.content)).find(t=>t.key===e.curEditKey)}},mutations:{setCurEditKey(e,t){e.curEditKey=t}}};var r={state:function(){return{backDetalisData:{},backTableTable:{}}},getters:{detalisData(e,t,i){const{baseDetalisFiles:a,baseTailFiles:o}=i.invoice.optionalField,n=[...o,...a];if(i.invoice.showSample){const e={printCount:0,companyName:"[公司名称]"};return n.forEach(t=>{t.file&&(e[t.file]=`[${t.sampleData||t.name}]`)}),e}return e.backDetalisData},tableData(e,t,i){if(i.invoice.showSample){let e={};return i.invoice.optionalField.baseTableFiles.forEach(t=>{e[t.soureFile]=[{}],t.content.forEach(i=>{e[t.soureFile][0][i.file]=i.sampleData||i.name})}),e}return e.backTableTable}},mutations:{setDataSource(e,t){e.backDetalisData=t&&t.header||{},e.backTableTable=t||{}}}},c=i(7);var u={state:function(){return{isShow:!1,logoType:c.a.system,customUrl:"",position:{top:0,left:0}}},getters:{logoUrl:(e,t,i)=>e.logoType===c.a.system?i.invoice.showSample?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAA19JREFUaAXtm01PE0EYx/+7bMG2BCnWlkYgXIxg4kuCJAgfwItnL15NTEz4BJxMPBgv3jx59qAeNH4A40FNtFVjomlUAiElWBdbwNKWdgX3WTPNUJZtFwYapvMkzfPMy7LPb/470+mG0bZsg20rKyvIZrMoFovY3NykqiNvuq4jFAohHo+jt7fX4dEIOJPJOLBHntADgKAHBgZgMGU9+krRRE9vd3c3dAraxYjVoDnL29jYGF888nEqlaoxEKsuywJVo/IIiFX3aJeySQFLKSsHZXBxS0La95imieXlZZTLZXR0dDibhEQigc7OTuE5tRx4fn4euVyuBmZZlgNP+4ORkRF0dXXV2kQELZ3D+Xx+GywPROALCwt8lZC45cBeFGtrayBwkdZS4Eql0pClWq027OOnQ0uBm1mUAoGAH56GfYUB/6n8bXiz+g6RSKS+alu5p6cHhiF2XRUC/ODzb5x/9A33P5ooW83/libgvr6+bZCsQKBDQ0OsKMzvG5hgb7+zXxxYW7ibMjH1dBbPZlebTnB4eBiDg4MIBoPQNM1RNBqNYnR0VPhXEiW1r+eFwfJ0mUIVN18u4uHXHO5M9OPiySDfvCMmyFgs5nx2NB5AxZ4VdoPl83ufLeHK8zlMv1rEz3WxKy1/H7/xnoAbwfJJPP6+istPfvie3/zfEBn7BvYDyxJl83vSBvczv9n1Ir0v4L3A8skurlvO/L76Yg6fzBLfdGhx04vWfmF5Ija/r50+jplLMfSHvTcX9Isqnd/Am6UiXi+twyxZmOgPYSoRxng8hHCged20ZDLpvJdmCbm90xIJy+7DfMjQMH0hilvnTuCY8T/xesC3Nmhuw31jY1/ufBNMJtwHgH+nRfdsCHyQsAya/KmwgetnIviSK8MLkL/GLeYHYGY8jnpgz0f6sGApcZrf9z6Ybgy+6uz9D5K/Ss6HgOtt14f/MGHrkzrI8q7AtF2U0XYFlhGWmBSwrMoyLqUwGwlZvVJYVmUZl1KYjYSsXiksq7KMSynMRkJWrxSWVVnGpRRmIyGrVwrLqizjUgqzkZDVK4VlVZZxKYXZSMjq205hg466uP1XfPbGWelEJlYtnU5vFQoF6eDcgJxTLXSep12MWHU6sdUO0MRIrM7JNFKYHdiS/SjeP3ZTT/xSD7+AAAAAAElFTkSuQmCC":t.detalisData.companyEmblem:e.customUrl},actions:{switchShowLogo({state:e,commit:t},i=!1){e.isShow=i,i&&t("setCurEditKey",c.b)},setLogoData({commit:e,dispatch:t},i={}){const{isShow:a,logoType:o,customUrl:n,position:s}=i;t("switchShowLogo",a),e("changeLogoType",o),e("changeCustomLogoUrl",n),e("changeLogoPosition",s)}},mutations:{changeCustomLogoUrl(e,t=""){e.customUrl=t},changeLogoType(e,t){e.logoType=t||e.logoType},changeLogoPosition(e,t={}){let{top:i=0,left:a=0}=t;e.position={top:i,left:a}}}},p=i(2);function d(e,t){return e.map(e=>{const i=t.find(t=>t.key===e.key);return i?{...i,...e,isDetails:!0}:Object(p.f)(e.key)?{...e,isDetails:!0,type:Object(p.b)(e.key)}:null}).filter(e=>e)}const m=[{name:"单据标题",key:"defaultTitle",type:"defaultTitle",width:4,fontSize:16,textAlign:"center",isBold:!0},{name:"打印时间",key:"defaultDate",type:"defaultDate",width:4,fontSize:12,textAlign:"right"}];const h={modules:{invoice:{namespaced:!0,state:function(){return{showSample:!0,typeEmun:{},type:"",name:"",id:0}},getters:{typeName:e=>e.typeEmun[e.type]},actions:{async initStoreData({commit:e,dispatch:t},i){const{typeEmun:a,baseFiles:o,temData:n,showSample:s,invoiceData:l}=i;await e("setShowSample",s),await e("setBaseFiles",o),await e("setTypeEmun",a),await t("initTemData",n),await e("setDataSource",l)},async initTemData({state:e,dispatch:t,commit:i},a){const o=a.content?JSON.parse(a.content):{},{name:n,id:s,type:l}=a;e.name=n,e.id=s,e.type=l,t("initGlobalData",o.invoiceGlobal||{fontSize:o.fontSize?o.fontSize:12}),t("setTemDataSource",o),t("setLogoData",o.invoiceLogo),i("setCurEditKey",null)}},mutations:{setShowSample(e,t=!0){e.showSample=t},setTypeEmun(e,t){e.typeEmun=t},changeInvoiceName(e,t){e.name=t}},modules:{invoiceGlobal:n,optionalField:{state:function(){return{baseDetalisFiles:[],baseTableFiles:[],baseTailFiles:[]}},getters:{altDetalisFiles:(e,t)=>[...e.baseDetalisFiles.filter(e=>Object(p.f)(e.key)||![...t.templateHeader,...t.templateFooter].find(t=>t.key===e.key))],altTailFiles:(e,t)=>e.baseTailFiles&&[...e.baseTailFiles.filter(e=>Object(p.f)(e.key)||![...t.templateTail].find(t=>t.key===e.key))],altTableFiles:(e,t)=>e.baseTableFiles.map(e=>({...e,content:e.content.filter(i=>{const a=t.templateBody.find(t=>t.soureFile===e.soureFile);return a&&!a.content.find(e=>e.key===i.key)})}))},mutations:{setBaseFiles(e,t){if(t&&t.baseDetalisFiles&&t.baseTableFiles){e.baseDetalisFiles=[...t.baseDetalisFiles.map(e=>({...e,key:"details-"+(e.key||e.file),width:e.width||1})),...m,...p.a],e.baseTailFiles=t.baseTailFiles?[...t.baseTailFiles.map(e=>({...e,key:"tail-"+(e.key||e.file),width:e.width||1})),...p.a]:[];const i=t.baseTableFiles&&t.baseTableFiles[0];i&&i.soureFile?e.baseTableFiles=t.baseTableFiles.map(e=>({...e,content:e.content.map(t=>({...t,key:`table-${e.soureFile}-${t.key||t.file}`}))||[]})):e.baseTableFiles=[{tableName:"",soureFile:"details",content:t.baseTableFiles.map(e=>({...e,key:"table-details-"+(e.key||e.file)}))||[]}]}else console.error("baseFiles 参数缺失",t),e.baseDetalisFiles=[],e.baseTableFiles=[{tableName:"",soureFile:"details",content:[]}]}}},invoiceTem:{state:function(){return{storageTemplateHeader:[],storageTemplateBody:[],storageTemplateFooter:[],storageTemplateTail:[]}},getters:{templateHeader(e,t,i){const{baseDetalisFiles:a}=i.invoice.optionalField;return d(e.storageTemplateHeader,a)},templateFooter(e,t,i){const{baseDetalisFiles:a}=i.invoice.optionalField;return d(e.storageTemplateFooter,a)},templateTail(e,t,i){const{baseTailFiles:a}=i.invoice.optionalField;return d(e.storageTemplateTail,a)},templateBody(e,t,i){const{baseTableFiles:a}=i.invoice.optionalField;return e.storageTemplateBody.map(e=>({...e,content:e.content.map(t=>{let i;return a.forEach(a=>{i||a.soureFile===e.soureFile&&a.content.forEach(e=>{e.key===t.key&&(i=e)})}),i?{...i,...t,width:t.width||100,name:i.name}:null}).filter(e=>e)}))}},actions:{setTemDataSource({state:e,rootState:t},i){const{baseTableFiles:a}=t.invoice.optionalField,o=i.templateBody&&i.templateBody[0];e.storageTemplateHeader=i.templateHeader||[],e.storageTemplateFooter=i.templateFooter||[],e.storageTemplateTail=i.templateTail||[],e.storageTemplateBody=o&&o.soureFile?i.templateBody:a.map(e=>({...e,content:i.templateBody||[]}))||[]}},mutations:{changeTemplateHeader(e,t){e.storageTemplateHeader=t},changeTemplateBody(e,t){e.storageTemplateBody=t},changeTemplateFooter(e,t){e.storageTemplateFooter=t},changeTemplateTail(e,t){e.storageTemplateTail=t}}},invoiceLogo:u,curEditField:l,invoiceData:r}}}};function f(){return new o.a.Store({...h})}},3:function(e,t){e.exports=require("@vue/babel-helper-vue-jsx-merge-props")},4:function(e,t){e.exports=require("lodash")},5:function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return n}));const a="思锐软件 （010）60219478/60219479",o={1:"一",2:"二",3:"三"},n={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,shiftKey:16,ctrlKey:17,altKey:18,metaKey:91}},55:function(e,t,i){"use strict";i.r(t);var a=i(1),o=i(5),n=i(20),s=i(6),l={name:"HtTemInvoice",componentName:"HtTemInvoice",store:()=>Object(n.a)(),props:{showSample:Boolean,typeEmun:Object,temData:{type:Object,required:!0},baseFiles:{type:Object,required:!0},invoiceData:{type:Object}},computed:{...Object(a.mapState)("invoice",["invoiceGlobal"]),...Object(a.mapGetters)("invoice",["tableData","templateHeader","templateBody","templateFooter","templateTail"])},watch:{baseFiles:{immediate:!0,handler(){this.$nextTick(()=>{this.initData()})}},temData(){this.initTemData(this.temData)},invoiceData(){this.setDataSource(this.invoiceData)}},methods:{...Object(a.mapActions)("invoice",["initStoreData","initTemData"]),...Object(a.mapMutations)("invoice",["setDataSource"]),initData(){this.initStoreData({typeEmun:this.typeEmun,baseFiles:this.baseFiles,temData:this.temData,showSample:this.showSample,invoiceData:this.invoiceData})}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-tem-warp border-box",style:{fontSize:this.invoiceGlobal.fontSize+"px",fontWeight:this.invoiceGlobal.isBold?"bold":"normal",fontStyle:this.invoiceGlobal.isOblique?"oblique":"normal"}},[e("div",{class:"ht-invoice-tem-content"},[e(s.f,{attrs:{showSample:this.showSample,templateData:this.templateHeader}}),e("div",{class:"ht-invoice-body-box"},[this.templateBody.map((t,i)=>this.tableData[t.soureFile]&&e("div",{class:"ht-invoice-body-block"},[t.tableName&&e("div",{class:"ht-invoice-table"},[`${o.a[i+1]}、${t.tableName}`]),e(s.g,{attrs:{showSample:this.showSample,data:this.tableData[t.soureFile],templateData:t}})]))]),e(s.f,{attrs:{showSample:this.showSample,templateData:this.templateFooter}}),e(s.d),e(s.e),e(s.f,{attrs:{showSample:this.showSample,templateData:this.templateTail}})])])}},r=i(0),c=Object(r.a)(l,void 0,void 0,!1,null,null,null);c.options.__file="packages/custom-invoice/src/tem-invoice.vue";var u=c.exports;u.install=function(e){e.component(u.name,u)};t.default=u},6:function(e,t,i){"use strict";i.d(t,"a",(function(){return u})),i.d(t,"b",(function(){return j})),i.d(t,"c",(function(){return z})),i.d(t,"d",(function(){return f})),i.d(t,"f",(function(){return L})),i.d(t,"g",(function(){return q})),i.d(t,"e",(function(){return G}));var a=i(3),o=i.n(a),n=i(11),s=i.n(n),l={components:{Draggable:s.a},props:{list:{type:Array,required:!0},clone:Function},methods:{changeHandle(e){this.$emit("change",this.list,e)}},render(){const e=arguments[0];return e("div",{class:"ht-alternative-files"},[e(s.a,o()([{class:"ht-invoice-data-group"},{attrs:this.$attrs},{on:{change:this.changeHandle},attrs:{list:this.list,clone:this.clone}}]),[this.$scopedSlots.default?this.$scopedSlots.default(this.list):this.list.map(t=>e("div",{class:"list-group-item text-ellipsis"},[e("span",{class:"file-item file-name"},[t.name,"："]),e("span",{class:"file-item ht-invoice-sample-class"},["[",t.sampleData||t.name,"]"])]))])])}},r=i(0),c=Object(r.a)(l,void 0,void 0,!1,null,null,null);c.options.__file="packages/custom-invoice/src/components/alternative-files.vue";var u=c.exports,p=i(1),d=i(7),m={computed:{...Object(p.mapState)("invoice",["showSample","invoiceLogo"]),...Object(p.mapGetters)("invoice",["logoUrl"]),logoStyle(){const{isShow:e,position:t}=this.invoiceLogo;return{display:e?"block":"none",backgroundImage:`url(${this.logoUrl})`,top:t.top+"px",left:t.left+"px"}},invoiceLogoRef(){return this.$refs.invoiceLogo}},mounted(){this.initMoveListen()},methods:{...Object(p.mapMutations)("invoice",["changeLogoPosition","setCurEditKey"]),initMoveListen(){const e=this.invoiceLogoRef;e.onmousedown=t=>{const{left:i=0,top:a=0}=this.invoiceLogo.position,o=i-t.screenX,n=a-t.screenY,s=this.$el.clientHeight-e.clientHeight,l=this.$el.clientWidth-e.clientWidth;document.onmousemove=e=>{let t=e.screenY+n,i=e.screenX+o;t<0?t=0:t>s&&(t=s),i<0?i=0:i>l&&(i=l),this.changeLogoPosition({top:t,left:i})},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null}}}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-logo"},[this.showSample?e("div",{ref:"invoiceLogo",class:"invoice-img",on:{click:()=>this.setCurEditKey(d.b)},style:this.logoStyle}):e("img",{class:"invoice-img",style:this.logoStyle,attrs:{src:this.logoUrl}})])}},h=Object(r.a)(m,void 0,void 0,!1,null,null,null);h.options.__file="packages/custom-invoice/src/components/invoice-logo.vue";var f=h.exports,b=i(10),v=i(18),y=i.n(v),g=i(15),S=i(4),F=i(2),D={props:{data:{type:Object,required:!0}},computed:{...Object(p.mapState)("invoice",["showSample"]),...Object(p.mapGetters)("invoice",["typeName","detalisData","tableData"])},methods:{formatter(e){let t=this.detalisData[e.file];if(this.showSample)t="signature"===e.type?"":""+t;else{let i=e.total||{table:"details",file:e.file};switch(e.type){case"date":t=Object(b.dateFormat)(t);break;case"uppercase":t=y()(t);break;case"areaNames":t=e=>e.join("");break;case"signature":t="";break;case"total":t=Object(S.reduce)(this.tableData[i.table],(e,t)=>e+Number(t[i.file]),0)}}return t},handleClick(e){this.$emit("click",e)}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-file list-group-item item-flex-"+this.data.width,on:{click:this.handleClick},style:Object(F.c)(this.data)},[(t=>{let i;switch(t.type){case"defaultTitle":i=e("div",{class:"file-item file-value"+(this.showSample?" ht-invoice-sample-class":"")},[this.detalisData.companyName,this.typeName]);break;case"custom":i=e("pre",{class:"file-item file-value"+(this.showSample?" ht-invoice-sample-class":"")},[t.value]);break;case"defaultDate":i=e("div",{class:"file-item file-value"+(this.showSample?" ht-invoice-sample-class":"")},[t.name,"：",Object(b.dateFormatFull)(new Date),"（",this.detalisData.printCount,")"]);break;case"signature":i=e(g.Fragment,[e("div",{class:"file-item file-name"},[t.name,"："]),e("div",{class:"file-item file-value signature-file"+(this.showSample?" ht-invoice-sample-class":"")})]);break;case"divider":i=e("div",{class:"file-item file-divider"});break;default:i=e(g.Fragment,[e("div",{class:"file-item file-name"},[t.name,"："]),e("div",{class:"file-item file-value"+(this.showSample?" ht-invoice-sample-class":"")},[this.formatter(t)])])}return i})(this.data)])}},T=Object(r.a)(D,void 0,void 0,!1,null,null,null);T.options.__file="packages/custom-invoice/src/components/invoice-details-file.vue";var k=T.exports,w={props:{group:{type:String,required:!0},templateData:{type:Array,required:!0},noDataMsg:{type:String,required:!0}},computed:{...Object(p.mapState)("invoice",["curEditField"])},methods:{...Object(p.mapMutations)("invoice",["setCurEditKey"])},render(){const e=arguments[0];return e("div",{class:"ht-invoice-file-box ht-invoice-edit-details"},[e(u,o()([{},{on:this.$listeners},{},{attrs:this.$attrs},{attrs:{group:this.group,list:this.templateData},scopedSlots:{default:t=>t.length?t.map(t=>e(k,{class:this.curEditField.curEditKey===t.key?"active":"",attrs:{data:t},on:{click:()=>this.setCurEditKey(t.key)}})):e("div",{class:"no-data"},[this.noDataMsg])}}]))])}},x=Object(r.a)(w,void 0,void 0,!1,null,null,null);x.options.__file="packages/custom-invoice/src/components/invoice-edit-details.vue";var j=x.exports,O=i(19),E=i.n(O),A={props:{templateData:{type:Object,required:!0}},computed:{...Object(p.mapState)("invoice",["curEditField"]),...Object(p.mapGetters)("invoice",["tableData","curEdit"]),soureFile(){return this.templateData.soureFile},content(){return this.templateData.content},detail(){return this.tableData[this.soureFile][0]?this.tableData[this.soureFile][0]:{}}},methods:{...Object(p.mapMutations)("invoice",["setCurEditKey"]),handleTemplateChange(e){this.$emit("change",e)},handleChangeWidth(e,t){t.width=e,this.handleTemplateChange(this.content)}},render(){const e=arguments[0];return e("div",{class:`ht-invoice-edit-table${this.templateData===this.curEdit?" active":""}${this.content.length?"":" no-data-content"}`},[e(u,o()([{attrs:{group:"body"+this.soureFile,handle:".dragghandle",list:this.content}},{on:this.$listeners},{},{attrs:this.$attrs},{scopedSlots:{default:t=>t.length?t.map(t=>e(E.a,{attrs:{width:t.width},on:{"change-width":e=>this.handleChangeWidth(e,t)},class:"list-group-item "+(this.curEditField.curEditKey===t.key?"active":""),style:Object(F.c)(t,!0)},[e("div",{class:"dragghandle",on:{click:()=>this.setCurEditKey(t.key)}},[e("div",{class:"file-item file-name text-ellipsis",attrs:{title:t.name}},[t.name]),e("div",{class:"file-item ht-invoice-sample-class text-ellipsis",attrs:{title:this.detail[t.file]}},["[",this.detail[t.file],"]"])])])):e("div",{class:"no-data"},["拖拽标题列数据设置表格"])}}]))])}},B=Object(r.a)(A,void 0,void 0,!1,null,null,null);B.options.__file="packages/custom-invoice/src/components/invoice-edit-table.vue";var z=B.exports,C={props:{templateData:{type:Array,required:!0}},render(){const e=arguments[0];if(this.templateData.length)return e("div",{class:"ht-invoice-file-box"},[e("div",{class:"ht-invoice-data-group"},[this.templateData.map(t=>e(k,{attrs:{data:t}}))])])}},K=Object(r.a)(C,void 0,void 0,!1,null,null,null);K.options.__file="packages/custom-invoice/src/components/invoice-tem-details.vue";var L=K.exports,H={props:{showSample:Boolean,templateData:{type:Object,required:!0},data:{type:Array,required:!0}},computed:{content(){return this.templateData.content},columns(){return this.content.map(e=>{let t;if(this.showSample)t=e=>`[${e}]`;else if(e.formatter)t=e.formatter;else switch(e.type){case"index":t=(e,t,i)=>i+1;break;case"date":t=(e,t,i)=>i}return{...e,key:`${e.key}-${(new Date).getTime()}`,formatter:t}})}},methods:{tableCellStyle({column:e}){const t=this.columns.find(t=>t.file===e.property);return Object(F.c)(t)}},render(){const e=arguments[0];return e("div",{class:"ht-invoice-tem-table"},[e("el-table",{attrs:{data:this.data,border:!0,"row-class-name":this.showSample?"ht-invoice-sample-class":"","cell-style":this.tableCellStyle,"header-cell-style":this.tableCellStyle,size:"mini"},style:{fontSize:this.templateData.fontSize?this.templateData.fontSize+"px":"inherit"}},[this.columns.map(t=>e("el-table-column",{key:t.key||t.prop,attrs:{label:t.name,prop:t.file,width:t.width,align:t.textAlign,"show-overflow-tooltip":!0},scopedSlots:{default:({row:e,$index:i})=>t.formatter?t.formatter(e[t.file],e,i):e[t.file]}}))])])}},_=Object(r.a)(H,void 0,void 0,!1,null,null,null);_.options.__file="packages/custom-invoice/src/components/invoice-tem-table.vue";var q=_.exports,M=i(5),$={render(){const e=arguments[0];return e("div",{class:"ht-invoice-page-footer"},[e("div",{class:"print-copy-right"},[M.c])])}},N=Object(r.a)($,void 0,void 0,!1,null,null,null);N.options.__file="packages/custom-invoice/src/components/invoice-page-footer.vue";var G=N.exports},7:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return o}));const a="printLogoKey",o={system:"system",custom:"custom"}}}).default}));
//# sourceMappingURL=index.js.map